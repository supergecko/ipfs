(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/productInfo/productInfo"],{"15ee":function(e,t,o){"use strict";var n=o("16ba"),a=o.n(n);a.a},"16ba":function(e,t,o){},2578:function(e,t,o){"use strict";o.r(t);var n=o("7218"),a=o("ccf1");for(var i in a)"default"!==i&&function(e){o.d(t,e,function(){return a[e]})}(i);o("4d3d"),o("15ee");var s=o("2877"),c=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"4549cbba",null);t["default"]=c.exports},"4d3d":function(e,t,o){"use strict";var n=o("bde1"),a=o.n(n);a.a},7218:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a})},"873c":function(e,t,o){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o("2f62");function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){s(e,t,o[t])})}return e}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c=function(){return o.e("components/uni-popup/uni-popup").then(o.bind(null,"942a"))},u=function(){return o.e("components/yp-number-box/yp-number-box").then(o.bind(null,"9358"))},r={components:{uniPopup:c,ypNumberBox:u},data:function(){return{formLabelAlign:{bank_account:"",bank_name:"",bank_open:"",bank_title:""},usdtAddress:"0x7df5a30658993392c5e85c14cc4584eae69fe489",unpaid:0,saleGB:10,saleMinGB:10,saleNumber:1,moneyType:["BTC"],address:["AntPool","BTC.com","F2Pool","zhizhu.top"],collocation:["托管时空存力矿场","指定收货地址"],collo:"",mill:"",millflag:!0,colloflag:!0,addressFlag:!1,myType:"BTC",chooseCla:!0,goodsInfo:{},electricity:"",totalCase:0,initMinePrice:0,cycle_id:1,numberValue:1,paymentName:"",paymentFlag:!0,couponName:"",couponMoney:0,couponFlag:!0,lmbPayment:!0,networkImgSrc:"",activityId:"",goodsId:"",qrCodeUrl:"",ruleForm:{coupon:"",trusteeshipM:"",btcAddress:"",userAddress:"",orePool:"",electricityDays:"",num:1,paymentMethod:""},newFlag:!0}},mounted:function(){navigator.userAgent.indexOf("Firefox")>0&&(this.isFirefox=!0)},methods:{handleDownloadQrIMg:function(t){e.showActionSheet({itemList:["保存到相册"],success:function(o){0==o.tapIndex&&(e.showLoading({title:"保存中..."}),setTimeout(function(){e.hideLoading()},6e3),e.downloadFile({url:t,success:function(t){200===t.statusCode&&e.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(t){e.hideLoading(),e.showToast({title:"保存成功！"})}})}}))}})},copyText:function(t){e.setClipboardData({data:t,success:function(){console.log(n("success"," at pages\\productInfo\\productInfo.vue:377"))}})},_buyNow:function(){var t=this;if(""!==this.ruleForm.paymentMethod)if(!1!==this.chooseCla){e.getNetworkType({success:function(t){"none"==t.networkType&&e.showToast({icon:"none",title:"当前网络不可用"})}}),e.showLoading({title:"提交中"});var o=this.ruleForm,a=(o.coupon,o.trusteeshipM,o.orePool,o.electricityDays,o.num,o.paymentMethod),i=e.getStorageSync("userID"),s=this.activityId,c=this.goodsId,u=this.numberValue,r=this.wallet_id,l=a,d=Date.parse(new Date)/1e3,p=this.$md5("".concat(this.initMinePrice,"__").concat(this.electricity,"__").concat(i,"__").concat(d,"__elseleimaohasjer2860")),f={user_id:i,share_activity_id:s,buy_num:u,wallet_id:r,pay_id:l,goods_id:c,timestamp:d,sign:p};this.$ajax.post({url:this.$service.api_lists.buyNow,data:f}).then(function(o){if(1==o.data.code)if(o.data.data.pay_type<3)t.qrCodeUrl=o.data.data.base64,t.networkImgSrc=o.data.data.qrcode,t.unpaid=o.data.data.unpaid,t.$refs.qrcode.open();else if(3===o.data.data.pay_type){e.showToast({icon:"none",title:"支付成功"});setTimeout(function(){e.reLaunch({url:"../myOrder/myOrder"})},1500)}else t.formLabelAlign.bank_account=o.data.data.address.bank_account,t.formLabelAlign.bank_name=o.data.data.address.bank_name,t.formLabelAlign.bank_open=o.data.data.address.bank_open,t.formLabelAlign.bank_title=o.data.data.address.bank_title,t.unpaid=o.data.data.unpaid,t.$refs.underLine.open();e.hideLoading(),console.log(n(o," at pages\\productInfo\\productInfo.vue:470"))}).catch(function(t){e.hideLoading(),e.showToast({title:t,duration:2e3})})}else e.showToast({icon:"none",title:"请勾选用户服务协议"});else e.showToast({icon:"none",title:"请选择支付方式"})},successPay:function(t){this.$refs[t].close();setTimeout(function(){e.reLaunch({url:"../myOrder/myOrder"})},1500)},changeNumber:function(e){console.log(n(e[1]," at pages\\productInfo\\productInfo.vue:489")),this.numberValue=e[1]},_homePage:function(t,o){var a=this;e.getNetworkType({success:function(t){"none"==t.networkType&&e.showToast({icon:"none",title:"当前网络不可用"})}}),e.showLoading({title:"加载中"});var i=e.getStorageSync("userID"),s=t,c=o,u={share_activity_id:s,goods_id:c,user_id:i};this.$ajax.post({url:this.$service.api_lists.goodsInfo,data:u}).then(function(t){1==t.data.code&&(a.goodsInfo=t.data.data,a.electricity=t.data.data.goods.electricity,a.totalCase=parseFloat(t.data.data.goods.shop_price)*parseFloat(a.saleMinGB),a.totalCase=parseFloat(a.totalCase).toFixed(2),a.initMinePrice=t.data.data.goods.shop_price,a.cycle_id=t.data.data.cycle[0].cycle_id),e.hideLoading(),console.log(n(t," at pages\\productInfo\\productInfo.vue:529"))}).catch(function(t){e.hideLoading(),e.showToast({title:t,duration:2e3})})},toggleChooseCla:function(){this.chooseCla=!this.chooseCla},openPopup:function(){this.$refs.popup.open()},closePopup:function(e){this.$refs.popup.close(),this.$refs.popup2.close(),this.$refs.popup3.close(),this.$refs.popupCoupon.close()},openCoupon:function(){this.$refs.popupCoupon.open()},chooseCoupon:function(e){this.$refs.popupCoupon.close(),this.couponFlag=!1,this.couponName=e.name+e.money,this.couponMoney=e.money,this.ruleForm.coupon=e.cid},openPopup2:function(){this.$refs.popup2.open()},closePopup2:function(e){this.$refs.popup2.close(),this.mill=e.name,this.ruleForm.orePool=e.mine_id,this.millflag=!1},openPopup3:function(){this.$refs.popup3.open()},closePopup3:function(e){this.$refs.popup3.close(),this.collo=e.title,this.ruleForm.trusteeshipM=e.host_id,this.colloflag=!1,this.addressFlag=!0,"托管时空存力"===this.collo?this.newFlag=!1:this.newFlag=!0},openPopup4:function(){this.$refs.popup4.open()},cancel:function(e){this.$refs[e].close()},closePopup4:function(e){this.$refs.popup4.close(),this.paymentFlag=!1,this.paymentName=e.name,this.ruleForm.paymentMethod=e.pay_id},toPage:function(t){e.navigateTo({url:t})},toAddAddress:function(){e.navigateTo({url:"../consignee/consignee"})}},computed:i({},(0,a.mapState)(["hasLogin","underLine_address","underLine_userName","underLine_mobile","underLine_flag","on_line_address","on_line_flag","wallet_id","address_id"]),{captchaSrc:function(){return this.qrCodeUrl.replace(/[\r\n]/g,"")}}),onLoad:function(t){this.hasLogin?(this.saleMinGB=t.consumption,this.saleGB=t.consumption,this.activityId=t.share_activity_id,this.goodsId=t.goods_id,this._homePage(t.share_activity_id,t.goods_id)):e.reLaunch({url:"../login/loginPas"})},watch:{numberValue:function(e,t){this.totalCase=this.initMinePrice,this.totalCase=parseFloat(this.totalCase)*e-parseFloat(this.couponMoney),this.totalCase=parseFloat(this.totalCase).toFixed(2)},couponMoney:function(e,t){this.totalCase=this.initMinePrice,this.totalCase=parseFloat(this.totalCase)*this.numberValue-parseFloat(e),this.totalCase=parseFloat(this.totalCase).toFixed(2)}}};t.default=r}).call(this,o("6e42")["default"],o("0de9")["default"])},bde1:function(e,t,o){},ccf1:function(e,t,o){"use strict";o.r(t);var n=o("873c"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,function(){return n[e]})}(i);t["default"]=a.a},d36f:function(e,t,o){"use strict";(function(e){o("981c"),o("921b");n(o("66fd"));var t=n(o("2578"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])}},[["d36f","common/runtime","common/vendor"]]]);