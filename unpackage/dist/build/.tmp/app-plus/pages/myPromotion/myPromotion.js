(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/myPromotion/myPromotion"],{1577:function(t,a,e){"use strict";var n=e("696a"),i=e.n(n);i.a},"2a1b":function(t,a,e){"use strict";e.r(a);var n=e("95de"),i=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(a,t,function(){return n[t]})}(o);a["default"]=i.a},"696a":function(t,a,e){},8259:function(t,a,e){"use strict";e.r(a);var n=e("b476"),i=e("2a1b");for(var o in i)"default"!==o&&function(t){e.d(a,t,function(){return i[t]})}(o);e("1577");var r=e("2877"),s=Object(r["a"])(i["default"],n["a"],n["b"],!1,null,"1f8a8588",null);a["default"]=s.exports},"8def":function(t,a,e){"use strict";(function(t){e("981c"),e("921b");n(e("66fd"));var a=n(e("8259"));function n(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("6e42")["createPage"])},"95de":function(t,a,e){"use strict";(function(t,n){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=r(e("9842")),o=e("2f62");function r(t){return t&&t.__esModule?t:{default:t}}function s(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{},n=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.forEach(function(a){d(t,a,e[a])})}return t}function d(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var u=function(){return e.e("components/uni-popup/uni-popup").then(e.bind(null,"942a"))},l=function(){return e.e("components/uni-input/uni-input").then(e.bind(null,"8ff9"))},c={computed:s({},(0,o.mapState)(["hasLogin"])),components:{uniPopup:u,uniInput:l},data:function(){return{ipfsQr:i.default,withdrawalIntegral:"",withdrawalAddress:"",withdrawalRemarks:"",shadow:!1,QRCodeUrl:"",input:"",identity:"",add_up_coin:0,direct_number:0,available:0,bonus_record:[],withdrawalsRecord:[],qrCodeSrc:""}},methods:{successWithdrawal:function(){console.log(t(this.withdrawalIntegral,this.withdrawalAddress,this.withdrawalRemarks," at pages\\myPromotion\\myPromotion.vue:136")),this._withdraw()},input1:function(t){this.withdrawalIntegral=t.detail.value},input2:function(t){this.withdrawalAddress=t.detail.value},input3:function(t){this.withdrawalRemarks=t.detail.value},open:function(t){this.$refs[t].open()},cancel:function(t){this.withdrawalIntegral="",this.withdrawalAddress="",this.withdrawalRemarks="",this.$refs[t].close()},copyText:function(a){n.setClipboardData({data:this.input,success:function(){console.log(t("success"," at pages\\myPromotion\\myPromotion.vue:183"))}})},_withdraw:function(){var t=this;if(""!=this.withdrawalIntegral)if(""!=this.withdrawalAddress)if(""!=this.withdrawalRemarks){n.getNetworkType({success:function(t){"none"==t.networkType&&n.showToast({icon:"none",title:"当前网络不可用"})}}),n.showLoading({title:"加载中"});var a=n.getStorageSync("userID"),e=this.withdrawalAddress,i=this.withdrawalIntegral,o=this.withdrawalRemarks,r=Date.parse(new Date)/1e3,s=this.$md5("".concat(a,"__").concat(e,"__").concat(i,"__").concat(o,"__").concat(r,"__elseleimaohasjer2860")),d={user_id:a,address:e,num:i,description:o,timestamp:r,sign:s};this.$ajax.post({url:this.$service.api_lists.withdraw,data:d}).then(function(a){1==a.data.code&&(n.showToast({icon:"none",title:a.data.msg}),t.withdrawalIntegral="",t.withdrawalAddress="",t.withdrawalRemarks="",t.$refs.withdrawal.close()),n.hideLoading()}).catch(function(a){n.hideLoading(),t.withdrawalIntegral="",t.withdrawalAddress="",t.withdrawalRemarks="",n.showToast({title:a,duration:2e3}),t.$refs.withdrawal.close()})}else n.showToast({icon:"none",title:"请填写提现备注"});else n.showToast({icon:"none",title:"请填写提现地址"});else n.showToast({icon:"none",title:"请填写提现积分"})},_myPopularize:function(){var a=this;n.getNetworkType({success:function(t){"none"==t.networkType&&n.showToast({icon:"none",title:"当前网络不可用"})}}),n.showLoading({title:"加载中"});var e=n.getStorageSync("userID"),i=Date.parse(new Date)/1e3,o=this.$md5("".concat(e,"__").concat(i,"__elseleimaohasjer2860")),r={user_id:e,timestamp:i,sign:o};this.$ajax.post({url:this.$service.api_lists.myPopularize,data:r}).then(function(e){1==e.data.code&&(a.input=e.data.data.popularize_url,a.QRCodeUrl=e.data.data.qr_code,a.add_up_coin=null===e.data.data.add_up_coin?0:e.data.data.add_up_coin,a.direct_number=null===e.data.data.direct_number?0:e.data.data.direct_number,a.available=null===e.data.data.available_bonus?0:e.data.data.available_bonus,a.identity=e.data.data.identity,a.bonus_record=e.data.data.bonus_record,a.withdrawalsRecord=e.data.data.withdraw,a.qrCodeSrc=e.data.data.qr_code),n.hideLoading(),console.log(t(e," at pages\\myPromotion\\myPromotion.vue:307"))}).catch(function(t){n.hideLoading(),n.showToast({title:t,duration:2e3})})}},onLoad:function(t){this.hasLogin?this._myPopularize():n.reLaunch({url:"../login/loginPas"})},onPullDownRefresh:function(){var t=this,a=setTimeout(function(){t._myPopularize(),n.stopPullDownRefresh(),n.showToast({icon:"none",title:"刷新成功"})},1e3);n.getNetworkType({success:function(t){"none"==t.networkType&&(n.showToast({icon:"none",title:"当前网络不可用"}),clearTimeout(a),n.stopPullDownRefresh())}})}};a.default=c}).call(this,e("0de9")["default"],e("6e42")["default"])},b476:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;t._self._c},i=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return i})}},[["8def","common/runtime","common/vendor"]]]);