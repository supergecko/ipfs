(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/setting/userInfo"],{"0395":function(e,t,a){"use strict";var n=a("dba2"),o=a.n(n);o.a},"0ff8":function(e,t,a){"use strict";a.r(t);var n=a("6281"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);t["default"]=o.a},"2cac":function(e,t,a){"use strict";(function(e){a("981c"),a("921b");n(a("66fd"));var t=n(a("2d45"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("6e42")["createPage"])},"2d45":function(e,t,a){"use strict";a.r(t);var n=a("ec1b"),o=a("0ff8");for(var i in o)"default"!==i&&function(e){a.d(t,e,function(){return o[e]})}(i);a("0395");var c=a("2877"),s=Object(c["a"])(o["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},6281:function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("a34a"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t,a,n,o,i,c){try{var s=e[i](c),u=s.value}catch(r){return void a(r)}s.done?t(u):Promise.resolve(u).then(n,o)}function s(e){return function(){var t=this,a=arguments;return new Promise(function(n,o){var i=e.apply(t,a);function s(e){c(i,n,o,s,u,"next",e)}function u(e){c(i,n,o,s,u,"throw",e)}s(void 0)})}}var u=[["camera"],["album"],["camera","album"]],r={onLoad:function(){},data:function(){return{realname:"",userPhone:"",idcard:"",index:0,countIndex:1,array:["身份证"],imageface:[],imageback:[],imagefacestatus:0,imagebackstatus:0,sourceTypeIndex:2,sourceType:["拍照","相册","拍照或相册"],imagefaceurl:"",imagebackurl:"",btnfalse:!1}},methods:{submit:function(){if(""==this.realname)return e.showToast({icon:"none",title:"请输入真实姓名"}),!1;if(""==this.userPhone)return e.showToast({icon:"none",title:"请输入手机号码"}),!1;if(""==this.idcard)return e.showToast({icon:"none",title:"请输入身份证号"}),!1;if(""==this.imagefaceurl)return e.showToast({icon:"none",title:"请上传身份证正面"}),!1;if(""==this.imagebackurl)return e.showToast({icon:"none",title:"请上传身份证反面"}),!1;e.getNetworkType({success:function(t){"none"==t.networkType&&e.showToast({icon:"none",title:"当前网络不可用"})}}),e.showLoading({title:"提交中"});var t=this.realname,a=this.idcard,o=this.userPhone,i=this.imagefaceurl,c=this.imagebackurl,s=e.getStorageSync("userID"),u=Date.parse(new Date)/1e3,r=this.$md5("".concat(s,"__").concat(t,"__").concat(a,"__").concat(o,"__").concat(i,"__").concat(c,"__").concat(u,"__elseleimaohasjer2860")),l={user_id:s,realname:t,idcard:a,mobile:o,face:i,back:c,timestamp:u,sign:r};this.$ajax.post({url:this.$service.api_lists.identityAuthentication,data:l}).then(function(t){1==t.data.code&&e.showToast({title:"提交成功",icon:"none"}),e.navigateBack({delta:1}),e.hideLoading(),console.log(n(t," at pages\\setting\\userInfo.vue:154"))}).catch(function(t){e.hideLoading(),e.showToast({title:t,duration:2e3})})},chooseFaceImage:function(){var e=s(o.default.mark(function e(){return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.uploadFIle(1);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),chooseBackImage:function(){var e=s(o.default.mark(function e(){return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.uploadFIle(2);case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),uploadFIle:function(t){var a=this;e.chooseImage({sourceType:u[this.sourceTypeIndex],count:1,sizeType:["compressed"],success:function(o){console.log(n(o," at pages\\setting\\userInfo.vue:177")),1==t&&(a.imageface=[],a.imageface=a.imageface.concat(o.tempFilePaths),a.imagefacestatus=1),2==t&&(a.imageback=[],a.imageback=a.imageback.concat(o.tempFilePaths),a.imagebackstatus=1);var i=o.tempFilePaths[0];e.uploadFile({url:a.$service.api_baseurl+a.$service.api_lists.file_post,filePath:i,name:"imgPath",success:function(o){e.showToast({title:"上传成功",icon:"success",duration:1e3});var i=JSON.parse(o.data);1==t&&(a.imagefaceurl=i.data.url),2==t&&(a.imagebackurl=i.data.url),console.log(n(i.data.url," at pages\\setting\\userInfo.vue:206"))},fail:function(t){e.showModal({content:t.errMsg,showCancel:!1})},complete:function(){console.log(n("complate"," at pages\\setting\\userInfo.vue:215"))}})},fail:function(e){console.log(n("chooseImage fail",e," at pages\\setting\\userInfo.vue:221"))}})}}};t.default=r}).call(this,a("6e42")["default"],a("0de9")["default"])},dba2:function(e,t,a){},ec1b:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},o=[];a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o})}},[["2cac","common/runtime","common/vendor"]]]);